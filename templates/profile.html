{% include "header.html" %}
{% load i18n %}
{% load staticfiles %}
{% load myfilters %}
<aside>
	{% include "sidebar.html" %}
</aside>

<div class="container-fluid" id="profileMain">
	<div class="info text-center">
		<p>{{ username }}</p>
		{% for i in avg_rating|floatformat:"0"|get_range %}
			<span class="glyphicon glyphicon-star"></span>
		{% endfor %}
		<span>&nbsp;&nbsp;&nbsp;{{ avg_rating|floatformat }} / 5</span>
	</div>

	<ul class="nav nav-tabs nav-justified">
		<li class="active"><a data-toggle="tab" href="#properties">Properties</a></li>
		<li><a data-toggle="tab" href="#reviews">Reviews</a></li>
	</ul>

	<div class="tab-content">
		<div id="properties" class="tab-pane fade in active">
			{% for property in properties %}
				<div class="row">
					<div class="col-xs-4">
						<div class="col-xs-12">
							<span class="field-small">Title: </span>{{ property.title }}
						</div>
						<div class="col-xs-12">
							<span class="field-small">Address: </span>{{ property.address }}, {{ property.city }}, {{ property.province }}
						</div>
						<div class="col-xs-12">
							<span class="field-small">Size: </span>{{ property.size }}
						</div>
						<div class="col-xs-12">
							<span class="field-small">Description: </span>{{ property.text }}
						</div>
						<div class="col-xs-12">
							<span class="field-small">Date added: </span>{{ property.date_added }}
						</div>
					</div>
					<div class="col-xs-6 col-xs-offset-2">
						<div class="thumbnail">
							<a href="/property/{{ property.id }}">
								<img src="{% static 'img/demo.png' %}" width="250px" height="250px">
							</a>
						</div>
					</div>
				</div>
			{% endfor %}
		</div>
		<div id="reviews" class="tab-pane fade">
			{% for review in reviews %}
			<div class="row">
				<div class="col-xs-3">
                    <div class="col-xs-12">
                        <a href="/property/{{ review.property.id }}">
                            {{ review.property.title }}
                        </a>
                    </div>
				</div>
				<div class="col-xs-9">
					<div class="col-xs-12">
						{% for i in review.rating|get_range %}
							<span class="glyphicon glyphicon-star"></span>
						{% endfor %}
						{% for i in 5|subtract:review.rating|get_range %}
							<span class="glyphicon glyphicon-star-empty"></span>
						{% endfor %}
					</div>
					<div class="col-xs-12">
						{{ review.text }}
					</div>
				</div>
			</div>
			{% endfor %}
		</div>
	</div>
</div>

{% include "footer.html" %}
